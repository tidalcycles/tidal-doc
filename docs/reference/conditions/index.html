<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.99d83995a">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tidal Cycles Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tidal Cycles Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Tidal Cycles" href="/opensearch.xml"><title data-react-helmet="true">Conditions | Tidal Cycles</title><meta data-react-helmet="true" property="og:url" content="https://doc.tidalcycles.org/docs/reference/conditions"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Conditions | Tidal Cycles"><meta data-react-helmet="true" name="description" content="This page will present you all the functions that can be used to add conditions to your patterns. Each function will be presented following the same model:"><meta data-react-helmet="true" property="og:description" content="This page will present you all the functions that can be used to add conditions to your patterns. Each function will be presented following the same model:"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://doc.tidalcycles.org/docs/reference/conditions"><link data-react-helmet="true" rel="alternate" href="https://doc.tidalcycles.org/docs/reference/conditions" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://doc.tidalcycles.org/docs/reference/conditions" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.8271e7bc.css">
<link rel="preload" href="/assets/js/styles.ffd3eff1.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.63d10781.js" as="script">
<link rel="preload" href="/assets/js/main.bc825c4e.js" as="script">
<link rel="preload" href="/assets/js/1.2f030b34.js" as="script">
<link rel="preload" href="/assets/js/2.fa437973.js" as="script">
<link rel="preload" href="/assets/js/3.9d80cc43.js" as="script">
<link rel="preload" href="/assets/js/1be78505.95078666.js" as="script">
<link rel="preload" href="/assets/js/141.3fb5808b.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.b3fd2fd4.js" as="script">
<link rel="preload" href="/assets/js/17896441.ca21a201.js" as="script">
<link rel="preload" href="/assets/js/181b115e.21d0cb1c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/tidal.png" alt="TidalCycles Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/tidal.png" alt="TidalCycles Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Tidal Cycles</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/reference/cycles">Reference</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/community">Community</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/reference/conditions" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li></ul></div><a href="https://github.com/tidalcycles/Tidal" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/tidal.png" alt="TidalCycles Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/tidal.png" alt="TidalCycles Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Tidal Cycles</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Documentation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/reference/cycles">Reference</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/community">Community</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/reference/conditions" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active">English</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/tidalcycles/Tidal" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/cycles">Cycles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/patterns">Patterns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/pattern_structure">Pattern Structure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/mini_notation">Mini Notation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/oscillators">Oscillators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/synthesizers">Synthesizers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/audio_effects">Audio effects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/controls">Controls</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/tempo">Tempo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/transitions">Transitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/state_values">State Values</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/concatenation">Concatenation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/accumulation">Accumulation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/alteration">Alteration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/performance">Performance</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/reference/conditions">Conditions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/time">Time</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/harmony_melody">Harmony &amp; Melody</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/transitions">Transitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sampling">Sampling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/randomness">Randomness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/composition">Composition</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Conditions</h1></header><div class="markdown"><p>This page will present you all the functions that can be used to add conditions to your patterns. Each function will be presented following the same model:</p><ul><li><strong>Type signature</strong>: how the function is declared on the <strong>Haskell</strong> side.</li><li><strong>Description</strong>: verbal description of the function.</li><li><strong>Examples</strong>: a small list of examples that you can copy/paste in your editor.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="every-and-the-others"></a>Every and the others<a class="hash-link" href="#every-and-the-others" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="every"></a>every<a class="hash-link" href="#every" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: every :: Pattern Int -&gt; (Pattern a -&gt; Pattern a) -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>every</code> is function that allows you to apply another function conditionally. It takes three inputs: how often the function should be applied (e.g. <code>3</code> to apply it every <code>3</code> cycles), the function to be applied, and the pattern you are applying it to. For example: to reverse a pattern every three cycles (and for the other two play it normally)</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ every 3 rev $ n &quot;0 1 [~ 2] 3&quot; # sound &quot;arpy&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Note that if the function you&#x27;re applying itself requires additional parameters (such as fast 2 to make a pattern twice as fast), then you&#x27;ll need to wrap it in parenthesis, like so:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ every 3 (fast 2) $ n &quot;0 1 [~ 2] 3&quot; # sound &quot;arpy&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Otherwise, the <code>every</code> function will think it is being passed too many parameters.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="every-1"></a>every&#x27;<a class="hash-link" href="#every-1" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: every&#x27; :: Int -&gt; Int -&gt; (Pattern a -&gt; Pattern a) -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>every&#x27;</code> is a generalisation of <code>every</code>, taking one additional argument. The additional argument allows you to offset the function you are applying.</p><p>For example, <code>every&#x27; 3 0 (fast 2)</code> will speed up the cycle on cycles 0,3,6,â€¦ whereas <code>every&#x27; 3 1 (fast 2)</code> will transform the pattern on cycles 1,4,7,â€¦</p><p>With this in mind, setting the second argument of <code>every&#x27;</code> to <code>0</code> gives the equivalent <code>every</code> function. For example, <code>every 3</code> is equivalent to <code>every&#x27; 3 0</code>. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="when"></a>when<a class="hash-link" href="#when" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: when :: (Int -&gt; Bool) -&gt; (Pattern a -&gt; Pattern a) -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Only when the given test function returns <code>True</code> the given pattern transformation is applied. The test function will be called with the current cycle as a number.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ when ((elem &#x27;4&#x27;).show) (striate 4) $ sound &quot;hh hc&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The above will only apply striate <code>4</code> to the pattern if the current cycle number contains the number <code>4</code>. So the fourth cycle will be striated and the fourteenth and so on. Expect lots of striates after cycle number <code>399</code>. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="whent"></a>whenT<a class="hash-link" href="#whent" title="Direct link to heading">#</a></h3><p>This function is not documented.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="whenmod"></a>whenmod<a class="hash-link" href="#whenmod" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: whenmod :: Int -&gt; Int -&gt; (Pattern a -&gt; Pattern a) -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>whenmod</code> has a similar form and behavior to <code>every</code>, but requires an additional number. It applies the function to the pattern, when the remainder of the current loop number divided by the first parameter, is greater or equal than the second parameter. For example the following makes every other block of four loops twice as <code>fast</code>:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ whenmod 8 4 (fast 2) (sound &quot;bd sn kurt&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-sometimes-family"></a>The &quot;sometimes&quot; family<a class="hash-link" href="#the-sometimes-family" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sometimes"></a>sometimes<a class="hash-link" href="#sometimes" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: sometimes :: (Pattern a -&gt; Pattern a) -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>sometimes</code> is function, that applies another function to a pattern, around 50% of the time, at random. It takes two inputs, the function to be applied, and the pattern you are applying it to.</p><p>For example to distort half the events in a pattern:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ sometimes (# crush 2) $ n &quot;0 1 [~ 2] 3&quot; # sound &quot;arpy&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>sometimes</code> has a number of variants, which apply the function with different likelihood: </p><table><thead><tr><th>function</th><th>Â likelihood</th></tr></thead><tbody><tr><td>always</td><td>100%</td></tr><tr><td>almostAlways</td><td>90%</td></tr><tr><td>often</td><td>75%</td></tr><tr><td>sometimes</td><td>50%</td></tr><tr><td>rarely</td><td>25%</td></tr><tr><td>almostNever</td><td>10%</td></tr><tr><td>never</td><td>0%</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sometimesby"></a>sometimesBy<a class="hash-link" href="#sometimesby" title="Direct link to heading">#</a></h3><p>If you want to be specific, you can use <code>sometimesBy</code> and a number, for example:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sometimesBy 0.93 (# speed 2)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>to apply the speed control on average 93 times out of a hundred.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="somecycles"></a>someCycles<a class="hash-link" href="#somecycles" title="Direct link to heading">#</a></h3><p><code>someCycles</code> is similar to <code>sometimes</code>, but instead of applying the given function to random events, it applies it to random cycles. For example the following will either distort all of the events in a cycle, or none of them:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ someCycles (# crush 2) $ n &quot;0 1 [~ 2] 3&quot; # sound &quot;arpy&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="somecyclesby"></a>someCyclesBy<a class="hash-link" href="#somecyclesby" title="Direct link to heading">#</a></h3><p>As with <code>sometimesBy</code>, if you want to be specific, you can use <code>someCyclesBy</code> and a number. For example:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">someCyclesBy 0.93 (# speed 2)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>will apply the speed control on average <code>93</code> cycles out of a hundred.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="choosing"></a>Choosing<a class="hash-link" href="#choosing" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="choose"></a>choose<a class="hash-link" href="#choose" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: choose :: [a] -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The <code>choose</code> function emits a stream of randomly choosen values from the given list, as a continuous pattern:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ sound &quot;drum ~ drum drum&quot; # n (choose [0,2,3])</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>As with all continuous patterns, you have to be careful to give them structure; in this case choose gives you an infinitely detailed stream of random choices. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="chooseby"></a>chooseby<a class="hash-link" href="#chooseby" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: chooseBy :: Pattern Double -&gt; [a] -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The <code>chooseBy</code> function is like choose but instead of selecting elements of the list randomly, it uses the given pattern to select elements.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">chooseBy &quot;0 0.25 0.5&quot; [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>will result in the pattern <code>&quot;a b c&quot; </code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="wchoose"></a>wchoose<a class="hash-link" href="#wchoose" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: wchoose :: [(a, Double)] -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>wchoose</code> is similar to <code>choose</code>, but allows you to &#x27;weight&#x27; the choices, so some are more likely to be chosen than others. The following is similar to the previous example, but the <code>2</code> is twice as likely to be chosen than the <code>0</code> or <code>3</code>.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ sound &quot;drum ~ drum drum&quot; # n (wchoose [(0,0.25),(2,0.5),(3,0.25)])</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Prior to version <code>1.0.0</code> of <strong>Tidal</strong>, the weights had to add up to <code>1</code>, but this is no longer the case. </p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="wchooseby"></a>wchooseby<a class="hash-link" href="#wchooseby" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: wchooseBy :: Pattern Double -&gt; [(a,Double)] -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The <code>wchooseBy</code> function is like <code>wchoose</code> but instead of selecting elements of the list randomly, it uses the given pattern to select elements. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="cyclechoose"></a>cycleChoose<a class="hash-link" href="#cyclechoose" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: cycleChoose :: [a] -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Similar to <code>choose</code>, but only picks once per cycle:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ sound &quot;drum ~ drum drum&quot; # n (cycleChoose [0,2,3])</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="boolean-conditions"></a>Boolean conditions<a class="hash-link" href="#boolean-conditions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="struct"></a>struct<a class="hash-link" href="#struct" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: struct :: Pattern Bool -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>struct</code> places a rhythmic &#x27;boolean&#x27; structure on the pattern you give it. For example:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ struct (&quot;t ~ t*2 ~&quot;) $ sound &quot;cp&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>... is the same as ...</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ sound &quot;cp ~ cp*2 ~&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The structure comes from a boolean pattern, i.e. a binary one containing true or false values. Above we only used true values, denoted by <code>t</code>. It&#x27;s also possible to include false values with <code>f</code>, which struct will simply treat as silience. For example, this would have the same outcome as the above:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ struct (&quot;t f t*2 f&quot;) $ sound &quot;cp&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>These true/false binary patterns become useful when you conditionally manipulate them, for example &#x27;inverting&#x27; the values using <code>every</code> and <code>inv</code>:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ struct (every 3 inv &quot;t f t*2 f&quot;) $ sound &quot;cp&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In the above, the boolean values will be &#x27;inverted&#x27; every third cycle, so that the structure comes from the <code>fs</code> rather than <code>t</code>. Note that euclidean patterns also create true/false values, for example:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ struct (every 3 inv &quot;t(3,8)&quot;) $ sound &quot;cp&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In the above, the euclidean pattern creates <code>&quot;t f t f t f f t&quot;</code> which gets inverted to <code>&quot;f t f t f t t f&quot;</code> every third cycle. Note that if you prefer you can use <code>1</code> and <code>0</code> instead of <code>t</code> and <code>f</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mask"></a>mask<a class="hash-link" href="#mask" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: mask :: Pattern Bool -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>mask</code> takes a boolean (aka binary) pattern and &#x27;masks&#x27; another pattern with it. That is, events are only carried over if they match within a &#x27;true&#x27; event in the binary pattern. For example consider this kind of messy rhythm without any rests:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ sound (cat [&quot;sn*8&quot;, &quot;[cp*4 bd*4, hc*5]&quot;]) # n (run 8)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>If we apply a mask to it:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ mask &quot;t t t ~ t t ~ t&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $ s (cat [&quot;sn*8&quot;, &quot;[cp*4 bd*4, bass*5]&quot;])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  # n (run 8)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Due to the use of <code>cat</code> here, the same mask is first applied to <code>&quot;sn*8&quot;</code> and in the next cycle to <code>&quot;[cp4 bd4, hc*5]&quot;</code>.</p><p>You could achieve the same effect by adding rests within the <code>cat</code> patterns, but mask allows you to do this more easily. It kind of keeps the rhythmic structure and you can change the used samples independently:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ mask &quot;1 ~ 1 ~ 1 1 ~ 1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $ s (cat [&quot;can*8&quot;, &quot;[cp*4 sn*4, jvbass*16]&quot;])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  # n (run 8)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sew"></a>sew<a class="hash-link" href="#sew" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: Pattern Bool -&gt; Pattern a -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>sew</code> uses a pattern of boolean (true or false) values to switch between two other patterns. For example the following will play the first pattern for the first half of a cycle, and the second pattern for the other half.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ sound (sew &quot;t f&quot; &quot;bd*8&quot; &quot;cp*8&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The above combines two patterns of strings, and passes the result to the sound function. It&#x27;s also possible to sew together two control patterns, for example:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ sew &quot;t &lt;f t&gt; &lt;f [f t] t&gt;&quot; (n &quot;0 .. 15&quot; # s &quot;future&quot;) (s &quot;cp:3*16&quot; # speed saw + 1.2)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can also use Euclidean rhythm syntax in the boolean sequence:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ sew &quot;t(11,16)&quot; (n &quot;0 .. 15&quot; # s &quot;future&quot;) (s &quot;cp:3*16&quot; # speed sine + 1.5)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stitch"></a>stitch<a class="hash-link" href="#stitch" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: Pattern Bool -&gt; Pattern a -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>stitch</code> uses the first (binary) pattern to switch between the following two patterns. The resulting structure comes from the binary pattern, not the source patterns. This differs from sew where the resulting structure comes from the source patterns. For example, the following uses a euclidean pattern to control CC0:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ ccv (stitch &quot;t(7,16)&quot; 127 0) # ccn 0  # &quot;midi&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="select"></a>select<a class="hash-link" href="#select" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">select :: Pattern Double -&gt; [Pattern a] -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Chooses between a list of patterns, using a pattern of floats (from <code>0</code> to <code>1</code>). </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="selectf"></a>selectF<a class="hash-link" href="#selectf" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">selectF :: Pattern Double -&gt; [Pattern a -&gt; Pattern a] -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Chooses between a list of functions, using a pattern of floats (from <code>0</code> to <code>1</code>) </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pickf"></a>pickF<a class="hash-link" href="#pickf" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pickF :: Pattern Int -&gt; [Pattern a -&gt; Pattern a] -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Chooses between a list of functions, using a pattern of integers.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="squeeze"></a>squeeze<a class="hash-link" href="#squeeze" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">squeeze :: Pattern Int -&gt; [Pattern a] -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Chooses between a list of patterns, using a pattern of integers.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="euclid"></a>euclid<a class="hash-link" href="#euclid" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: euclid :: Pattern Int -&gt; Pattern Int -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>euclid</code> creates a Euclidean rhythmic structure. It produces the same output as the Euclidean pattern string. For example:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ euclid 3 8 $ sound &quot;cp&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>is the same as:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ sound &quot;cp(3,8)&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>euclid</code> accepts two parameters that can be patterns:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ euclid &quot;&lt;3 5&gt;&quot; &quot;[8 16]/4&quot; $ s &quot;bd&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="euclidinv"></a>euclidInv<a class="hash-link" href="#euclidinv" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: euclidInv :: Pattern Int -&gt; Pattern Int -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Inverts the pattern given by <code>euclid</code>. For example:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ stack [euclid 5 8 $ s &quot;bd&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            euclidInv 5 8 $ s &quot;hh27&quot;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>to hear that the hi-hat event fires on every one of the eight even beats that the bass drum does not.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="euclidfull"></a>euclidFull<a class="hash-link" href="#euclidfull" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: euclidFull :: Pattern Int -&gt; Pattern Int -&gt; Pattern a -&gt; Pattern a -&gt;Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>euclidFull</code> is a convenience function for playing one pattern on the euclidean rhythm and a different pattern on the off-beat.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">euclidFull 5 8 (s &quot;bd&quot;) (s &quot;hh27&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>is equivalent to our above example. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="contrast"></a>contrast<a class="hash-link" href="#contrast" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: contrast :: (ControlPattern -&gt; ControlPattern) -&gt; (ControlPattern -&gt; ControlPattern) -&gt; ControlPattern -&gt; ControlPattern -&gt; ControlPattern</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>contrast</code> is like a if-else-statement over patterns. For <code>contrast t f p</code> you can think of <code>t</code> al the true-branch, <code>f</code> as the false branch, and <code>p</code> as the test.</p><p>For contrast, you can use any control pattern as a test of equality: <code>n &quot;&lt;0 1&gt;&quot;</code>, <code>speed &quot;0.5&quot;</code>, or things like that. This lets you choose specific properties of the pattern you&#x27;re transforming for testing, like in the following example:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ contrast (|+ n 12) (|- n 12) (n &quot;c&quot;) $ n (run 4) # s &quot;superpiano&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>where every note that isn&#x27;t middle-c will be shifted down an octave but middle-c will be shifted up to c5.</p><p>Since the test given to contrast is also a pattern, you can do things like have it alternate between options:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ contrast (|+ n 12) (|- n 12) (s &quot;&lt;superpiano superchip&gt;&quot;) $ s &quot;superpiano superchip&quot; # n 0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>If you listen to this you&#x27;ll hear that which instrument is shifted up and which instrument is shifted down alternates between cycles. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="contrastby"></a>contrastBy<a class="hash-link" href="#contrastby" title="Direct link to heading">#</a></h3><p><code>contrastBy</code> is currently undocumented.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ifp"></a>ifp<a class="hash-link" href="#ifp" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type: ifp :: (Int -&gt; Bool) -&gt; (Pattern a -&gt; Pattern a) -&gt; (Pattern a -&gt; Pattern a) -&gt; Pattern a -&gt; Pattern a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>ifp</code> decides whether to apply one or another function depending on the result of a test function, which is passed the current cycle as a number. For example:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly haskell"><div tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">d1 $ ifp ((== 0).(flip mod 2))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (striate 4)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (# coarse &quot;24 48&quot;) $</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  sound &quot;hh hc&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This will apply <code>striate 4</code> for every even cycle, and <code># coarse &quot;24 48&quot;</code> for every odd one.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>The test function does not rely on anything Tidal-specific, it uses plain Haskell functionality for operating on numbers. That is, it calculates the modulo of <code>2</code> of the current cycle which is either <code>0</code> (for even cycles) or <code>1</code>. It then compares this value against <code>0</code> and returns the result, which is either <code>True</code> or <code>False</code>. This is what the first part of <code>ifp</code>&#x27;s type signature signifies <code>(Int -&gt; Bool)</code>, a function that takes a whole number and returns either <code>True</code> or <code>False</code>. </p></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/tidalcycles/tidal-doc/tree/main/docs/reference/conditions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-05-26T14:44:15.000Z" class="lastUpdatedDate_1WI_">5/26/2021</time> by <strong>Raphael Forment</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/performance"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Performance</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/time"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Time Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#every-and-the-others" class="table-of-contents__link">Every and the others</a><ul><li><a href="#every" class="table-of-contents__link">every</a></li><li><a href="#every-1" class="table-of-contents__link">every&#39;</a></li><li><a href="#when" class="table-of-contents__link">when</a></li><li><a href="#whent" class="table-of-contents__link">whenT</a></li><li><a href="#whenmod" class="table-of-contents__link">whenmod</a></li></ul></li><li><a href="#the-sometimes-family" class="table-of-contents__link">The &quot;sometimes&quot; family</a><ul><li><a href="#sometimes" class="table-of-contents__link">sometimes</a></li><li><a href="#sometimesby" class="table-of-contents__link">sometimesBy</a></li><li><a href="#somecycles" class="table-of-contents__link">someCycles</a></li><li><a href="#somecyclesby" class="table-of-contents__link">someCyclesBy</a></li></ul></li><li><a href="#choosing" class="table-of-contents__link">Choosing</a><ul><li><a href="#choose" class="table-of-contents__link">choose</a></li><li><a href="#chooseby" class="table-of-contents__link">chooseby</a></li><li><a href="#wchoose" class="table-of-contents__link">wchoose</a></li><li><a href="#wchooseby" class="table-of-contents__link">wchooseby</a></li><li><a href="#cyclechoose" class="table-of-contents__link">cycleChoose</a></li></ul></li><li><a href="#boolean-conditions" class="table-of-contents__link">Boolean conditions</a><ul><li><a href="#struct" class="table-of-contents__link">struct</a></li><li><a href="#mask" class="table-of-contents__link">mask</a></li><li><a href="#sew" class="table-of-contents__link">sew</a></li><li><a href="#stitch" class="table-of-contents__link">stitch</a></li><li><a href="#select" class="table-of-contents__link">select</a></li><li><a href="#selectf" class="table-of-contents__link">selectF</a></li><li><a href="#pickf" class="table-of-contents__link">pickF</a></li><li><a href="#squeeze" class="table-of-contents__link">squeeze</a></li><li><a href="#euclid" class="table-of-contents__link">euclid</a></li><li><a href="#euclidinv" class="table-of-contents__link">euclidInv</a></li><li><a href="#euclidfull" class="table-of-contents__link">euclidFull</a></li><li><a href="#contrast" class="table-of-contents__link">contrast</a></li><li><a href="#contrastby" class="table-of-contents__link">contrastBy</a></li></ul></li><li><a href="#ifp" class="table-of-contents__link">ifp</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">TidalCycles</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/community/">Community</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://club.tidalcycles.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse</a></li><li class="footer__item"><a href="https://discord.gg/ugFq7KfGnB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/tidalcycles" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/tidalcycles" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li><li class="footer__item"><a href="https://post.lurk.org/@tidalcycles" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mastodon</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/tidalcycles/Tidal" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Creative Commons Attribution ShareAlike</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 TidalCycles. Creative Commons Attribution-ShareAlike</div></div></div></footer></div>
<script src="/assets/js/styles.ffd3eff1.js"></script>
<script src="/assets/js/runtime~main.63d10781.js"></script>
<script src="/assets/js/main.bc825c4e.js"></script>
<script src="/assets/js/1.2f030b34.js"></script>
<script src="/assets/js/2.fa437973.js"></script>
<script src="/assets/js/3.9d80cc43.js"></script>
<script src="/assets/js/1be78505.95078666.js"></script>
<script src="/assets/js/141.3fb5808b.js"></script>
<script src="/assets/js/935f2afb.b3fd2fd4.js"></script>
<script src="/assets/js/17896441.ca21a201.js"></script>
<script src="/assets/js/181b115e.21d0cb1c.js"></script>
</body>
</html>